<!DOCTYPE HTML>
<html lang="es">
<head>
  <title>Semáforo</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Semáforo en Javascript (JQuery) y CSS3">
  <meta name="author" content="Johnmer Bencomo">

	<link href='http://fonts.googleapis.com/css?family=Amatic+SC:400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="css/styles.css">
   	<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){
     	$("#empezar").toggle(function(){
			$("#amarillo").css("background","#ccc");
			$("#rojo").css("background","#ccc");
	      	$("#verde").css("background","#8fc800");
	      	$(".segundos").css("color","#8fc800");
	      	$("#segundos").html("ESTADO: Verde<br>Esperando Cambiar a Amarillo").css("color","#8fc800");
	      	},function(){
	 			$("#verde").css("background","#ccc");
				$("#amarillo").css("background","#f1da36");
				$("#rojo").css("background","#ccc");
	      		$(".segundos").css("color","#f1da36");
	      		$("#segundos").html("ESTADO: Amarillo<br>Esperando Cambiar a Rojo").css("color","#f1da36");
			},function(){
				$("#verde").css("background","#ccc");
				$("#amarillo").css("background","#ccc");
				$("#rojo").css("background","#cc0000");
	      		$(".segundos").css("color","#cc0000");
	      		$("#segundos").html("ESTADO: Rojo<br>Esperando Cambiar a Verde").css("color","#cc0000");
		});
		$("#empezar").trigger("click");
		status = "verde";
		setInterval(function(){
			segundos = parseInt($(".segundos").html());
			segundos--;
			if (segundos==5 && status=="verde") {
				status = "amarillo";
				$("#empezar").trigger("click");
			} else {
				if (segundos==0 && status=="amarillo") {
					status = "rojo";
					$("#empezar").trigger("click");
					segundos = 25;
				} else {
					if (segundos==0 && status=="rojo") {
						status = "verde";
						$("#empezar").trigger("click");
						segundos = 25;
					}
				}
			}
			$(".segundos").html(segundos);
		},1000)
   	});
    </script>
</head>
<body>
	<div class="caja">
		<div class="circulo" id="verde"></div>
		<div class="circulo" id="amarillo"></div>
		<div class="circulo" id="rojo"></div>
	</div>
	<div id="info">
		<input type="button" id="empezar" value="Empezar"><br>
		<label>Segundos</label>
		<div class="segundos">25</div>
		<label id="segundos"></label>
	</div>
	<footer>
		<p>Crazy Thing by <a href="http://www.twitter.com/bjohnmer">Johnmer Bencomo</a></p>
	</footer>	
</body>
</html>